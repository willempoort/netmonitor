# ============================================================================
# NetMonitor Environment Configuration
# ============================================================================
# This file contains:
#   1. Secrets & credentials (API keys, passwords) - NEVER commit to git!
#   2. Deployment settings (server mode, ports) - Deployment-specific
#
# Application configuration (thresholds, features) belongs in config.yaml
#
# Setup:
#   1. Copy this file:    cp .env.example .env
#   2. Edit secrets:      nano .env
#   3. Never commit .env! (already in .gitignore)
#
# SECURITY: .env must never be committed to version control!
# ============================================================================

# ============================================================================
# DEPLOYMENT SETTINGS (deployment-specific, not secrets)
# ============================================================================
# These settings control how services are installed and run.
# They're in .env because install_services.sh and startup scripts read them.

# Dashboard server mode (embedded|gunicorn)
# embedded = Flask development server in netmonitor.py (simple, 1 service)
#            Good for: small deployments, testing, 1-10 concurrent users
# gunicorn = Production WSGI server (recommended for production, 2 services)
#            Good for: production, 10+ concurrent users, high availability
DASHBOARD_SERVER=embedded

# Dashboard network settings
DASHBOARD_HOST=0.0.0.0  # 0.0.0.0 = accessible from network, 127.0.0.1 = localhost only
DASHBOARD_PORT=8080

# Gunicorn workers (only used if DASHBOARD_SERVER=gunicorn)
# Rule of thumb: (2 x CPU cores) + 1
DASHBOARD_WORKERS=4

# MCP HTTP API for AI integration (optional)
MCP_API_ENABLED=false
MCP_API_PORT=8000

# ============================================================================
# SECRETS & CREDENTIALS
# ============================================================================

# Flask secret key for session security (REQUIRED)
# BELANGRIJK: Genereer een sterke random key voor productie!
# Generate: python3 -c "import secrets; print(secrets.token_hex(32))"
FLASK_SECRET_KEY=change-this-to-a-random-secret-key-in-production

# ============================================================================
# DATABASE CREDENTIALS
# ============================================================================
# PostgreSQL database password (if using PostgreSQL)
# Database host/port/name are configured in config.yaml
DB_PASSWORD=netmonitor

# ============================================================================
# THREAT INTELLIGENCE API KEYS
# ============================================================================
# AbuseIPDB API Key (optional - for IP reputation checks)
# Gratis tier: 1000 requests/dag
# Sign up: https://www.abuseipdb.com/api
ABUSEIPDB_API_KEY=

# MISP Threat Intelligence Platform (optional)
# Zie: docs/features/MISP_SETUP.md
MISP_URL=
MISP_API_KEY=

# AlienVault OTX (optional - gratis)
# Sign up: https://otx.alienvault.com
OTX_API_KEY=

# ============================================================================
# SIEM INTEGRATION CREDENTIALS
# ============================================================================
# Wazuh SIEM (optional)
# Zie: docs/features/WAZUH_SETUP.md
WAZUH_API_URL=
WAZUH_API_USER=
WAZUH_API_PASSWORD=

# ============================================================================
# NOTIFICATION SECRETS
# ============================================================================
# Email notifications (optional)
SMTP_PASSWORD=

# Slack notifications (optional)
SLACK_WEBHOOK_URL=

# ============================================================================
# NOTES: What Goes Where?
# ============================================================================
# .env (this file):
#   - Secrets: API keys, passwords, tokens (NEVER commit!)
#   - Deployment: DASHBOARD_SERVER, ports, MCP settings (deployment-specific)
#
# config.yaml:
#   - Application logic: detection thresholds, features, network ranges
#   - Settings shared across deployments (can be committed to git)
#
# Why deployment settings are in .env:
#   - install_services.sh reads DASHBOARD_SERVER to create correct services
#   - netmonitor.py reads DASHBOARD_SERVER at startup
#   - Can't be in config.yaml because scripts need them before loading YAML
#   - Not secrets, but deployment-specific (dev vs prod might differ)
#
# Configuration moved to config.yaml (from old .env):
#   - Database host/port/name → config.yaml: database.postgresql.*
#   - Log levels → config.yaml: logging.level
#   - Feature enables → config.yaml: integrations.*.enabled
#   - Detection thresholds → config.yaml: thresholds.*
#   - Network ranges → config.yaml: internal_networks
# ============================================================================
