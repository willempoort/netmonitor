# NetMonitor MCP Streamable HTTP Server Configuration
# Copy this file to /opt/netmonitor/.env and adjust values

# ==================== Server Settings ====================
MCP_API_HOST=127.0.0.1
MCP_API_PORT=8000
MCP_DEBUG=false
LOG_LEVEL=INFO

# ==================== Database Settings ====================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=netmonitor
DB_USER=mcp_readonly
DB_PASSWORD=mcp_netmonitor_readonly_2024

# ==================== Ollama AI Settings (Optional) ====================
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=llama3.2

# ==================== MCP Protocol Settings ====================
MCP_ENDPOINT_PATH=/mcp
MCP_STATELESS=true
MCP_JSON_RESPONSE=false

# ==================== CORS Settings ====================
MCP_CORS_ENABLED=true
MCP_CORS_ORIGINS=*

# ==================== Authentication ====================
MCP_AUTH_REQUIRED=true
MCP_RATE_LIMIT_ENABLED=true

# ==================== Usage Notes ====================
#
# 1. Server will listen on MCP_API_HOST:MCP_API_PORT
# 2. MCP endpoint will be at http://HOST:PORT/mcp
# 3. Health check at http://HOST:PORT/health
# 4. Metrics at http://HOST:PORT/metrics (requires authentication)
#
# 5. For Claude Desktop, configure:
#    {
#      "mcpServers": {
#        "netmonitor": {
#          "type": "streamable-http",
#          "url": "http://127.0.0.1:8000/mcp",
#          "headers": {
#            "Authorization": "Bearer YOUR_TOKEN_HERE"
#          }
#        }
#      }
#    }
#
# 6. For Open-WebUI, configure MCP server with:
#    - URL: http://127.0.0.1:8000/mcp
#    - Token: YOUR_TOKEN_HERE
#
# 7. Generate tokens with:
#    python3 /opt/netmonitor/mcp_server/manage_tokens.py create \
#      --name "My Token" \
#      --scope read_only \
#      --rate-limit 60
